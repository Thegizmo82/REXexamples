long input(0) channelA;
long input(1) channelB;

long hCom;

long bufTx[3];
long bufRx[3];

#define CON_I2C 70
#define CON_SPI 71
#define I2CDEV_FNAME 67 // I2C device is defined by the fname parameter of the REXLANG block (e.g. set it to /dev/i2c-1 on the Raspberry Pi minicomputer) )
#define FILE_SPI 71

int init(void)
{
	hCom = Open(I2CDEV_FNAME);

	Trace(0, hCom);

	return 0;
}

int main(void)
{
  int res;
  
	bufTx[0] = 0x30;
	bufTx[1] = (channelA >> 8) & 0xFF;
	bufTx[2] = (channelA >> 0) & 0xFF;
	res = I2C(hCom, 0x12, bufTx, 3, bufRx, 0);

	bufTx[0] = 0x31;
	bufTx[1] = (channelB >> 8) & 0xFF;
	bufTx[2] = (channelB >> 0) & 0xFF;
	res = I2C(hCom, 0x12, bufTx, 3, bufRx, 0);
    
  return 0;
}
